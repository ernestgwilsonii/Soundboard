{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <h1 class="text-center">Update Profile</h1>
        <p class="text-center text-muted">Manage your account details and profile picture.</p>
        
        <form action="" method="post" enctype="multipart/form-data" novalidate>
            {{ form.hidden_tag() }}
            
            <div class="text-center mb-4">
                {% if current_user.avatar_path %}
                <img src="{{ url_for('static', filename='uploads/' + current_user.avatar_path) }}" alt="Avatar" class="rounded-circle shadow-sm" style="width: 120px; height: 120px; object-fit: cover;">
                {% else %}
                <div class="bg-light rounded-circle d-inline-flex align-items-center justify-content-center shadow-sm" style="width: 120px; height: 120px;">
                    <i class="fas fa-user fa-4x text-muted"></i>
                </div>
                {% endif %}
            </div>

            <div class="mb-3">
                {{ form.email.label(class="form-label") }}
                {{ form.email(class="form-control") }}
                {% for error in form.email.errors %}
                <span class="text-danger">[{{ error }}]</span>
                {% endfor %}
            </div>

            <div class="mb-3">
                {{ form.bio.label(class="form-label") }}
                {{ form.bio(class="form-control", placeholder="Tell us about yourself...") }}
                {% for error in form.bio.errors %}
                <span class="text-danger">[{{ error }}]</span>
                {% endfor %}
            </div>

            <div class="mb-3">
                {{ form.social_x.label(class="form-label") }}
                {{ form.social_x(class="form-control", placeholder="https://x.com/username") }}
                {% for error in form.social_x.errors %}
                <span class="text-danger">[{{ error }}]</span>
                {% endfor %}
            </div>

            <div class="mb-3">
                {{ form.social_youtube.label(class="form-label") }}
                {{ form.social_youtube(class="form-control", placeholder="https://youtube.com/@channel") }}
                {% for error in form.social_youtube.errors %}
                <span class="text-danger">[{{ error }}]</span>
                {% endfor %}
            </div>

            <div class="mb-3">
                {{ form.social_website.label(class="form-label") }}
                {{ form.social_website(class="form-control", placeholder="https://yourwebsite.com") }}
                {% for error in form.social_website.errors %}
                <span class="text-danger">[{{ error }}]</span>
                {% endfor %}
            </div>

            <div class="mb-3">
                {{ form.avatar.label(class="form-label") }}
                {{ form.avatar(class="form-control") }}
                <div class="form-text">Choose a JPG or PNG image.</div>
                {% for error in form.avatar.errors %}
                <span class="text-danger">[{{ error }}]</span>
                {% endfor %}
            </div>

            <div class="d-grid gap-2">
                {{ form.submit(class="btn btn-primary") }}
                <a href="{{ url_for('auth.profile') }}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
